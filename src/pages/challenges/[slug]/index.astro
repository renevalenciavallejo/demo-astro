---
import { getCollection } from "astro:content";
import Layout from "@layouts/Layout.astro";
import ChallengeDetail from "@components/ChallengeDetail.astro";
import ChallengeDetailButtons from "@components/ChallengeDetailButtons.astro";
import ChallengeDetailHeader from "@components/ChallengeDetailHeader.astro";
import ChallengeDetailButtonParticipate from "@components/ChallengeDetailButtonParticipate.astro";

export async function getStaticPaths() {
  const challenges = await getCollection("challenges");
  return challenges.map((challenge) => ({
    params: { slug: challenge.slug },
    props: { challenge },
  }));
}
const { challenge } = Astro.props;
---

<Layout
  title={`${challenge.data.title} - Swetro`}
  description={challenge.data.description}
>
  <main>
    <ChallengeDetailHeader challenge={challenge} />
    <!-- <ChallengeDetailButtons IsDetails={true} challenge={challenge} /> -->
    <ChallengeDetail challenge={challenge} />
    <ChallengeDetailButtonParticipate challenge={challenge} />
  </main>
</Layout>
